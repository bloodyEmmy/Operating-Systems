#flashcards 
***
Пусть нам необходимо [[Перенаправление стандартного вывода|перенаправить]] [[Ввод, вывод, вывод ошибок|стандартный вывод]] в файл `.txt`. Для этого необходимо воспользоваться [[Ls команда терминала|ls]].
***Алгоритм.***
1. [[Командная оболочка|Оболочка]] раздваивается при помощи [[Системный вызов|системного вызова]] [[Fork системный вызов|fork()]].
2. Появляется ее точная копия в виде [[Процесс|процесса-ребенка]]. Это помогает ребенку менять свои настройки, при этом не меняя настройки родителя (в нашем случае - оболочки).
3. Ребенок подменяет экран [[Терминал, Эмулятор терминала|терминала]] на файл, в который мы хотим записать данные.
4. Ребенок превращается в `ls` при помощи [[Exec системный вызов|exec()]].
5. Он закрывает 1ый [[Файловый дескриптор (FD)|файловый дескриптор]] (`stdout`) при помощи [[Close системный вызов|close(1)]].
6. Он открывает файл при помощи [[Open системный вызов|open(file.txt)]] => ему ставится минимальный `FD = 1`.
7. `ls` пишет в файл, думая что это экран, и умирает. Родитель ждал окончания работы через [[Wait системный вызов|wait()]], после чего мы вновь можем работать с экраном.